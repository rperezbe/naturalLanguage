<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentiment Analysis</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Sentiment Analysis Results</h1>

    <textarea id="inputText" placeholder="Inserta el texto aquí"></textarea>
    <button onclick="performAnalysis()">Realizar Análisis</button>

    <div id="content"></div>

    <script>
        function performAnalysis() {
            const inputText = document.getElementById('inputText').value;

            // Realiza la solicitud POST con el texto ingresado
            fetch('https://europe-west1-deductive-wares-233220.cloudfunctions.net/NLP', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    gID: '1aBc',
                    text: inputText,
                    action: 'json'
                }),
            })
            .then(response => response.json())
            .then(data => {
                // Actualiza jsonData con la respuesta de la solicitud
                jsonData = data;

                // Limpia el contenido existente en la página
                document.getElementById('content').innerHTML = '';

                // Muestra los nuevos datos en la página
                jsonData.Sentiment.sentences.forEach(showSentence);
                showEntities(jsonData.Entities.entities);
                showCategories(jsonData.Categories.categories);
                showModeration(jsonData.Moderation.moderationCategories);
            })
            .catch(error => console.error('Error:', error));
        }

        // Resto del código...
    </script>
</body>
</html>
